<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Quản lý đội bóng</title>
  </head>
  <body>
    <script>
      let playerIds = [];
      let playerPositions = [];
      const positions = ["Thủ môn", "Hậu vệ", "Tiền vệ", "Tiền đạo"];

      let n = Number(prompt("Có bao nhiêu cầu thủ cần nhập vào đội bóng ?"));

      for (let i = 0; i < n; i++) {
        console.log(`Nhập cầu thủ ${i + 1}:`);

        let id;
        let isDuplicate;
        do {
          id = prompt("Mã cầu thủ:");
          isDuplicate = false;

          for (let j = 0; j < playerIds.length; j++) {
            if (playerIds[j] === id) {
              isDuplicate = true;
              alert("Mã cầu thủ đã tồn tại, vui lòng nhập lại!");
              break;
            }
          }
        } while (isDuplicate);

        let posChoice;
        do {
          posChoice = Number(
            prompt("Vị trí (1: Thủ môn 2: Hậu vệ 3: Tiền vệ 4: Tiền đạo):"),
          );
        } while (posChoice < 1 || posChoice > 4);

        playerIds.push(id);
        playerPositions.push(positions[posChoice - 1]);
      }

      function printTeamRoster() {
        console.log(`\nĐội bóng hiện tại (${playerIds.length} cầu thủ):`);
        for (let i = 0; i < playerIds.length; i++) {
          console.log(`${i + 1}. ${playerIds[i]} - ${playerPositions[i]}`);
        }
      }

      function findPlayersByPosition(position) {
        let indexes = [];
        for (let i = 0; i < playerPositions.length; i++) {
          if (playerPositions[i] === position) {
            indexes.push(i);
          }
        }
        return indexes;
      }

      let findChoice = Number(
        prompt(
          "Nhập vị trí cầu thủ muốn đếm số lượng (1: Thủ môn , 2: Hậu vệ , 3: Tiền vệ, 4: Tiền đạo):",
        ),
      );

      let findPositionName = positions[findChoice - 1];

      printTeamRoster();

      let result = findPlayersByPosition(findPositionName);

      console.log(
        `\nSố cầu thủ ở vị trí ${findPositionName}: ${result.length}`,
      );
      console.log(
        `Các chỉ số cầu thủ ở vị trí ${findPositionName}: ${result.join(", ")}`,
      );
    </script>
  </body>
</html>
